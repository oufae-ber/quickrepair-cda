-- =========================================================
-- QuickRepair France - Données de test (PostgreSQL)
-- Script : insert_data_postgresql.sql
-- Converti depuis MySQL 8
-- =========================================================

-- Désactivation temporaire des contraintes de clés étrangères
SET session_replication_role = 'replica';

INSERT INTO role(code, libelle) VALUES
('ADMIN','Administrateur'),
('RESP_BOUTIQUE','Responsable boutique'),
('TECH','Technicien'),
('ACCUEIL','Agent d''accueil'),
('LOGISTIQUE','Logistique');

INSERT INTO boutique(id_boutique, nom, adresse, ville, code_postal) VALUES
('B01','QuickRepair Châtelet','12 rue de Rivoli','Paris','75001'),
('B02','QuickRepair La Défense','CC Les 4 Temps','Puteaux','92800'),
('B03','QuickRepair Créteil','CC Créteil Soleil','Créteil','94000'),
('B04','QuickRepair Velizy','CC Velizy 2','Velizy','78140'),
('B05','QuickRepair Cergy','CC Les 3 Fontaines','Cergy','95000');

-- Employés (12)
INSERT INTO employe(id_boutique, id_role, nom, prenom, email_pro, actif)
SELECT 'B01', r.id_role, 'Martin', 'Lucas', 'lucas.martin@quickrepair.fr', TRUE FROM role r WHERE r.code='RESP_BOUTIQUE'
UNION ALL
SELECT 'B03', r.id_role, 'Benali', 'Sarah', 'sarah.benali@quickrepair.fr', TRUE FROM role r WHERE r.code='RESP_BOUTIQUE'
UNION ALL
SELECT 'B01', r.id_role, 'Lemoine', 'Julien', 'j.lemoine@quickrepair.fr', TRUE FROM role r WHERE r.code='TECH'
UNION ALL
SELECT 'B02', r.id_role, 'Dubois', 'Mathieu', 'm.dubois@quickrepair.fr', TRUE FROM role r WHERE r.code='TECH'
UNION ALL
SELECT 'B03', r.id_role, 'Kouyate', 'Awa', 'a.kouyate@quickrepair.fr', TRUE FROM role r WHERE r.code='TECH'
UNION ALL
SELECT 'B04', r.id_role, 'Morel', 'Sami', 's.morel@quickrepair.fr', TRUE FROM role r WHERE r.code='TECH'
UNION ALL
SELECT 'B05', r.id_role, 'Fernandez', 'Lucia', 'l.fernandez@quickrepair.fr', TRUE FROM role r WHERE r.code='TECH'
UNION ALL
SELECT 'B01', r.id_role, 'Renaud', 'Chloé', 'c.renaud@quickrepair.fr', TRUE FROM role r WHERE r.code='ACCUEIL'
UNION ALL
SELECT 'B02', r.id_role, 'Bernard', 'Mehdi', 'm.bernard@quickrepair.fr', TRUE FROM role r WHERE r.code='ACCUEIL'
UNION ALL
SELECT 'B03', r.id_role, 'Nguyen', 'Hugo', 'h.nguyen@quickrepair.fr', TRUE FROM role r WHERE r.code='LOGISTIQUE'
UNION ALL
SELECT 'B04', r.id_role, 'Petit', 'Nina', 'n.petit@quickrepair.fr', TRUE FROM role r WHERE r.code='TECH'
UNION ALL
SELECT 'B05', r.id_role, 'Banka', 'Joel', 'admin@quickrepair.fr', TRUE FROM role r WHERE r.code='ADMIN';

-- Catalogue types de réparation (20)
INSERT INTO type_reparation(code_type, libelle, categorie_appareil, prix_moyen, duree_moy_h) VALUES
('REP-001','Remplacement écran','Smartphone',89.00,1.50),
('REP-002','Remplacement batterie','Smartphone',49.00,0.50),
('REP-003','Réparation connecteur de charge','Smartphone',59.00,1.00),
('REP-004','Réparation carte mère','Smartphone',129.00,3.00),
('REP-005','Remplacement camera','Smartphone',69.00,1.00),
('REP-006','Désoxydation (dégâts des eaux)','Smartphone',79.00,2.00),
('REP-007','Remplacement écran','PC Portable',189.00,2.00),
('REP-008','Remplacement clavier','PC Portable',99.00,1.50),
('REP-009','Upgrade RAM / SSD','PC Portable',79.00,1.00),
('REP-010','Remplacement batterie','PC Portable',89.00,1.00),
('REP-011','Nettoyage ventilateur / pate thermique','PC Portable',49.00,1.50),
('REP-012','Réinstallation système','PC Portable',59.00,2.00),
('REP-013','Remplacement écran','Tablette',149.00,2.00),
('REP-014','Remplacement batterie','Tablette',69.00,1.00),
('REP-015','Réparation connecteur','Tablette',59.00,1.00),
('REP-016','Remplacement écran','Console',109.00,2.00),
('REP-017','Réparation lecteur disque','Console',89.00,2.00),
('REP-018','Remplacement batterie','Montre connectée',59.00,1.00),
('REP-019','Remplacement écran','Montre connectée',99.00,1.50),
('REP-020','Diagnostic complet (tout appareil)','Tous',19.00,0.50);

-- Statuts (cycle de vie)
-- On force les IDs avec OVERRIDING SYSTEM VALUE pour garder les références explicites
INSERT INTO statut(id_statut, libelle, ordre) OVERRIDING SYSTEM VALUE VALUES
(1,'Déposée',1),
(2,'Diagnostic',2),
(3,'Devis envoyé',3),
(4,'Devis accepté',4),
(5,'Devis refusé',5),
(6,'En attente pièce',6),
(7,'En cours',7),
(8,'Terminée - contrôle',8),
(9,'Terminée - en attente retrait',9),
(10,'Terminée - livrée',10),
(11,'Annulée',11);
-- Resynchronisation de la séquence après insertion forcée
SELECT setval(pg_get_serial_sequence('statut','id_statut'), (SELECT MAX(id_statut) FROM statut));

-- Fournisseurs (5)
INSERT INTO fournisseur(id_fournisseur, nom, specialite, delai_moy_jours, ville) VALUES
('F01','TechParts Europe','Ecrans et batteries smartphones',2,'Paris'),
('F02','LaptopSpare France','Composants PC portables',3,'Lyon'),
('F03','GameFix Supply','Pieces consoles et portables',4,'Lille'),
('F04','MicroStock Direct','Connecteurs, nappes, composants divers',2,'Paris'),
('F05','WatchParts Pro','Composants montres connectées',5,'Bruxelles');

-- Clients (20)
INSERT INTO client(nom, prenom, telephone, email, ville, code_postal, client_depuis) VALUES
('Dupont','Marie','0612345678','m.dupont@email.fr','Paris','75001','2023-03-01'),
('Benhamed','Karim','0723456789','k.benhamed@gmail.com','Puteaux','92800','2023-06-01'),
('Moreau','Julie','0634567890','julie.moreau@hotmail.fr','Créteil','94000','2023-09-01'),
('Lefevre','Thomas','0645678901','t.lefevre@outlook.com','Velizy','78140','2024-01-01'),
('Diallo','Amina','0756789012','a.diallo@yahoo.fr','Cergy','95000','2024-02-01'),
('Petit','Nicolas','0667890123','n.petit@gmail.com','Paris','75003','2024-04-01'),
('Zhang','Sophie','0778901234','s.zhang@email.fr','Nanterre','92000','2024-06-01'),
('Roux','Antoine','0689012345','a.roux@protonmail.com','Créteil','94000','2024-08-01'),
('El Amrani','Fatima','0790123456','f.elamrani@gmail.com','Cergy','95000','2024-10-01'),
('Martin','Pierre','0601234567','p.martin@free.fr','Paris','75011','2025-01-01'),
('Bernard','Lina','0611122233','l.bernard@gmail.com','Paris','75015','2024-03-15'),
('Nguyen','Huy','0622233344','h.nguyen@yahoo.fr','Puteaux','92800','2024-05-10'),
('Khan','Sami','0633344455','s.khan@hotmail.fr','Créteil','94000','2024-07-22'),
('Garnier','Emma','0644455566','e.garnier@outlook.com','Velizy','78140','2024-09-05'),
('Lopez','Diego','0655566677','d.lopez@gmail.com','Cergy','95000','2024-11-18'),
('Fischer','Anna','0666677788','anna.fischer@proton.me','Nanterre','92000','2025-01-20'),
('Bensalem','Yassine','0677788899','y.bensalem@gmail.com','Paris','75020','2025-02-02'),
('Hernandez','Sofia','0688899900','sofia.h@gmail.com','Créteil','94000','2025-02-10'),
('Kouadio','Jean','0699900011','j.kouadio@yahoo.fr','Cergy','95000','2025-02-14'),
('Lambert','Chloé','0700111222','c.lambert@outlook.com','Paris','75008','2025-02-20');

-- Appareils (30)
INSERT INTO appareil(id_client, marque, modele, categorie, numero_serie) VALUES
(1,'Apple','iPhone 14 Pro','Smartphone','SN-IP14P-0001'),
(3,'Samsung','Galaxy S24','Smartphone','SN-SGS24-0001'),
(2,'Apple','MacBook Air M2','PC Portable','SN-MBA-M2-0001'),
(5,'Apple','iPad Air 5','Tablette','SN-IPADA5-0001'),
(6,'Sony','PS5','Console','SN-PS5-0001'),
(4,'Nintendo','Switch','Console','SN-NSW-0001'),
(8,'Huawei','P30','Smartphone','SN-HWP30-0001'),
(7,'Dell','XPS 15','PC Portable','SN-XPS15-0001'),
(4,'Apple','iPhone 13','Smartphone','SN-AP0101'),
(9,'Lenovo','ThinkPad T14','PC Portable','SN-LE0102'),
(8,'Google','Pixel 7','Smartphone','SN-GO0103'),
(4,'Apple','Watch Series 8','Montre connectée','SN-AP0104'),
(18,'Samsung','Galaxy S22','Smartphone','SN-SA0105'),
(19,'Apple','iPad 10','Tablette','SN-AP0106'),
(2,'Apple','iPhone 13','Smartphone','SN-AP0107'),
(3,'Lenovo','ThinkPad T14','PC Portable','SN-LE0108'),
(8,'Sony','PS4','Console','SN-SO0109'),
(20,'Apple','iPhone 13','Smartphone','SN-AP0110'),
(18,'Lenovo','ThinkPad T14','PC Portable','SN-LE0111'),
(18,'Apple','iPad 10','Tablette','SN-AP0112'),
(8,'Samsung','Galaxy Tab S8','Tablette','SN-SA0113'),
(19,'HP','Pavilion 15','PC Portable','SN-HP0114'),
(1,'Google','Pixel 7','Smartphone','SN-GO0115'),
(14,'Asus','ZenBook 14','PC Portable','SN-AS0116'),
(9,'Google','Pixel 7','Smartphone','SN-GO0117'),
(7,'Asus','ZenBook 14','PC Portable','SN-AS0118'),
(4,'Samsung','Galaxy S22','Smartphone','SN-SA0119'),
(13,'Samsung','Galaxy S22','Smartphone','SN-SA0120'),
(12,'Asus','ZenBook 14','PC Portable','SN-AS0121'),
(20,'HP','Pavilion 15','PC Portable','SN-HP0122');

-- Pièces (20)
INSERT INTO piece(reference, libelle, categorie) VALUES
('P-ECR-IP14','Écran iPhone 14 Pro','Ecran'),
('P-BAT-IP14','Batterie iPhone 14 Pro','Batterie'),
('P-CONN-USB','Connecteur USB-C','Connecteur'),
('P-CAM-SM','Caméra smartphone','Camera'),
('P-SSD-512','SSD 512Go NVMe','Stockage'),
('P-RAM-16','RAM 16Go DDR4','RAM'),
('P-CLAV-PC','Clavier PC portable','Clavier'),
('P-ECR-15','Écran 15 pouces PC','Ecran'),
('P-PATE','Pâte thermique','Refroidissement'),
('P-VENT','Ventilateur PC','Refroidissement'),
('P-ECR-IPAD','Écran iPad','Ecran'),
('P-BAT-IPAD','Batterie iPad','Batterie'),
('P-LECT-PS5','Lecteur disque PS5','Console'),
('P-ECR-SW','Écran Nintendo Switch','Console'),
('P-CONN-IPAD','Connecteur iPad','Connecteur'),
('P-NAPPE','Nappe flexible','Composant'),
('P-BAT-WATCH','Batterie montre','Batterie'),
('P-ECR-WATCH','Écran montre','Ecran'),
('P-TRAY','Tiroir SIM','Composant'),
('P-HPARL','Haut-parleur','Audio');

-- Tarifs fournisseurs par pièce
INSERT INTO fournisseur_piece(id_fournisseur, id_piece, prix_unitaire, ref_piece_fournisseur) VALUES
('F04',1,66.67,'REF-F04-001'),
('F01',2,100.38,'REF-F01-002'),
('F03',2,76.13,'REF-F03-002'),
('F05',3,86.03,'REF-F05-003'),
('F02',3,10.27,'REF-F02-003'),
('F03',4,118.30,'REF-F03-004'),
('F01',5,48.71,'REF-F01-005'),
('F03',6,47.57,'REF-F03-006'),
('F02',6,29.09,'REF-F02-006'),
('F01',7,66.43,'REF-F01-007'),
('F02',7,33.15,'REF-F02-007'),
('F04',8,118.80,'REF-F04-008'),
('F03',8,78.60,'REF-F03-008'),
('F03',9,101.93,'REF-F03-009'),
('F02',10,99.51,'REF-F02-010'),
('F04',11,12.61,'REF-F04-011'),
('F03',11,110.01,'REF-F03-011'),
('F02',12,50.50,'REF-F02-012'),
('F04',12,110.17,'REF-F04-012'),
('F02',13,21.06,'REF-F02-013'),
('F03',13,90.67,'REF-F03-013'),
('F05',14,108.25,'REF-F05-014'),
('F04',14,50.93,'REF-F04-014'),
('F02',15,63.60,'REF-F02-015'),
('F01',16,104.03,'REF-F01-016'),
('F02',17,96.09,'REF-F02-017'),
('F05',18,49.25,'REF-F05-018'),
('F01',18,73.53,'REF-F01-018'),
('F05',19,116.67,'REF-F05-019'),
('F03',19,103.99,'REF-F03-019'),
('F01',20,83.40,'REF-F01-020');

-- Stock par boutique
INSERT INTO stock(id_boutique, id_piece, quantite, seuil_alerte, emplacement) VALUES
('B01',1,8,5,'C2'),
('B01',2,9,5,'B2'),
('B01',3,0,5,'C2'),
('B01',5,16,5,'A2'),
('B01',6,3,5,'C2'),
('B01',7,20,5,'C1'),
('B01',8,4,5,'B1'),
('B01',10,24,5,'C1'),
('B01',12,15,5,'A1'),
('B01',13,11,5,'B1'),
('B01',14,7,5,'C1'),
('B01',16,15,5,'A1'),
('B01',18,4,5,'A2'),
('B02',1,16,5,'C1'),
('B02',2,6,5,'C1'),
('B02',6,21,5,'C2'),
('B02',7,16,5,'B2'),
('B02',8,7,5,'A1'),
('B02',9,18,5,'C1'),
('B02',10,7,5,'A1'),
('B02',11,20,5,'A1'),
('B02',12,1,5,'B1'),
('B02',13,7,5,'B1'),
('B02',15,4,5,'C2'),
('B02',17,15,5,'A2'),
('B02',20,3,5,'C2'),
('B03',1,13,5,'B2'),
('B03',2,23,5,'A1'),
('B03',5,12,5,'C2'),
('B03',6,3,5,'A2'),
('B03',7,17,5,'B2'),
('B03',8,5,5,'B1'),
('B03',9,2,5,'B2'),
('B03',12,20,5,'C1'),
('B03',17,15,5,'B2'),
('B03',18,12,5,'A1'),
('B03',19,0,5,'B2'),
('B03',20,25,5,'B2'),
('B04',1,22,5,'C2'),
('B04',3,22,5,'B2'),
('B04',4,9,5,'A2'),
('B04',6,17,5,'A1'),
('B04',8,18,5,'B2'),
('B04',9,16,5,'A2'),
('B04',10,16,5,'A1'),
('B04',12,2,5,'C2'),
('B04',14,18,5,'A2'),
('B04',15,1,5,'C1'),
('B04',16,21,5,'C1'),
('B04',17,10,5,'B1'),
('B04',18,22,5,'B1'),
('B04',19,12,5,'A2'),
('B05',1,10,5,'A1'),
('B05',2,19,5,'C1'),
('B05',4,6,5,'C1'),
('B05',5,11,5,'A1'),
('B05',7,5,5,'B2'),
('B05',10,25,5,'C2'),
('B05',11,21,5,'C1'),
('B05',12,21,5,'A1'),
('B05',14,3,5,'A1'),
('B05',16,9,5,'C1'),
('B05',17,10,5,'A2'),
('B05',20,8,5,'A1');

-- Commandes fournisseurs (6)
INSERT INTO commande_fournisseur(id_fournisseur, id_boutique, date_commande, date_reception_prevue, date_reception, statut_commande) VALUES
('F01','B01','2025-01-10','2025-01-12','2025-01-12','livree'),
('F02','B02','2025-01-18','2025-01-21','2025-01-22','livree'),
('F03','B04','2025-02-03','2025-02-07',NULL,'en_cours'),
('F04','B03','2025-02-08','2025-02-10','2025-02-10','livree'),
('F05','B05','2025-02-12','2025-02-17',NULL,'en_cours'),
('F01','B02','2025-02-15','2025-02-16',NULL,'en_cours');

INSERT INTO commande_ligne(id_commande, id_piece, quantite, prix_achat) VALUES
(1,3,2,5.41),
(1,14,4,78.27),
(1,9,6,23.58),
(2,15,10,6.11),
(2,18,3,113.68),
(2,14,4,67.74),
(3,12,4,54.43),
(3,19,2,40.45),
(3,18,2,108.38),
(4,7,7,94.71),
(4,8,8,116.99),
(4,4,4,111.46),
(5,8,8,7.85),
(5,6,7,94.97),
(5,19,8,97.26),
(6,8,3,48.99),
(6,9,2,103.74),
(6,6,5,27.95);

-- Réparations (40)
INSERT INTO reparation(id_appareil, id_boutique, code_type, technicien_principal_id, technicien_qc_id, numero_suivi, date_depot, description_panne, devis_montant, devis_accepte, date_debut, date_fin, date_fin_garantie) VALUES
(1,'B01','REP-001',(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),NULL,'QR-B01-2025-0089','2025-01-15 10:00:00','Écran fissuré',NULL,NULL,'2025-01-15 11:00:00','2025-01-16 16:00:00','2025-07-16'),
(2,'B03','REP-002',(SELECT id_employe FROM employe WHERE email_pro='a.kouyate@quickrepair.fr'),NULL,'QR-B03-2025-0134','2025-02-05 10:00:00','Batterie faible',NULL,NULL,'2025-02-05 11:00:00',NULL,NULL),
(3,'B02','REP-009',(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),NULL,'QR-B02-2025-0201','2025-02-01 10:00:00','Stockage insuffisant',NULL,NULL,'2025-02-01 11:00:00',NULL,NULL),
(4,'B05','REP-015',(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),NULL,'QR-B05-2025-0056','2025-02-10 10:00:00','Charge instable',NULL,NULL,'2025-02-10 11:00:00',NULL,NULL),
(5,'B01','REP-017',(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),NULL,'QR-B01-2025-0090','2025-01-20 10:00:00','Lecteur disque HS',NULL,NULL,'2025-01-20 11:00:00',NULL,NULL),
(6,'B04','REP-016',(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),NULL,'QR-B04-2025-0078','2025-02-12 10:00:00','Ecran noir',NULL,NULL,'2025-02-12 11:00:00',NULL,NULL),
(7,'B03','REP-006',(SELECT id_employe FROM employe WHERE email_pro='a.kouyate@quickrepair.fr'),NULL,'QR-B03-2025-0135','2025-02-14 10:00:00','Oxydation',NULL,NULL,'2025-02-14 11:00:00','2025-02-15 16:00:00','2025-08-15'),
(8,'B02','REP-011',(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),NULL,'QR-B02-2025-0202','2025-01-28 10:00:00','Surchauffe',NULL,NULL,'2025-01-28 11:00:00','2025-01-30 16:00:00','2025-07-28'),
(30,'B04','REP-012',(SELECT id_employe FROM employe WHERE email_pro='a.kouyate@quickrepair.fr'),NULL,'QR-B04-2025-3000','2024-12-29 09:30:00','Ne charge plus',NULL,NULL,NULL,NULL,NULL),
(22,'B02','REP-013',(SELECT id_employe FROM employe WHERE email_pro='a.kouyate@quickrepair.fr'),NULL,'QR-B02-2025-3001','2024-12-09 09:30:00','Redémarrages',NULL,NULL,NULL,NULL,NULL),
(12,'B05','REP-013',(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),NULL,'QR-B05-2025-3002','2025-01-12 09:30:00','Ne charge plus',NULL,NULL,'2025-01-13 10:00:00','2025-01-13 17:00:00','2025-07-13'),
(29,'B03','REP-006',(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),NULL,'QR-B03-2025-3003','2024-12-05 09:30:00','Ecran cassé',NULL,NULL,NULL,NULL,NULL),
(20,'B04','REP-012',(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),NULL,'QR-B04-2025-3004','2025-01-25 09:30:00','Ecran cassé',NULL,NULL,NULL,NULL,NULL),
(13,'B05','REP-007',(SELECT id_employe FROM employe WHERE email_pro='a.kouyate@quickrepair.fr'),NULL,'QR-B05-2025-3005','2025-01-25 09:30:00','Ne charge plus',NULL,NULL,NULL,NULL,NULL),
(17,'B05','REP-007',(SELECT id_employe FROM employe WHERE email_pro='a.kouyate@quickrepair.fr'),NULL,'QR-B05-2025-3006','2024-12-09 09:30:00','Son faible',NULL,NULL,'2024-12-10 10:00:00',NULL,NULL),
(20,'B03','REP-004',(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),NULL,'QR-B03-2025-3007','2025-02-03 09:30:00','Redémarrages',NULL,NULL,NULL,NULL,NULL),
(22,'B04','REP-011',(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),NULL,'QR-B04-2025-3008','2025-02-09 09:30:00','Batterie ne tient pas',NULL,NULL,NULL,NULL,NULL),
(7,'B04','REP-013',(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),NULL,'QR-B04-2025-3009','2025-02-17 09:30:00','Redémarrages',NULL,NULL,NULL,NULL,NULL),
(13,'B05','REP-001',(SELECT id_employe FROM employe WHERE email_pro='a.kouyate@quickrepair.fr'),NULL,'QR-B05-2025-3010','2024-12-27 09:30:00','Boutons HS',NULL,NULL,NULL,NULL,NULL),
(26,'B05','REP-020',(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),NULL,'QR-B05-2025-3011','2025-01-29 09:30:00','Wi-Fi instable',NULL,NULL,NULL,NULL,NULL),
(15,'B02','REP-017',(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),NULL,'QR-B02-2025-3012','2024-12-11 09:30:00','Redémarrages',NULL,NULL,NULL,NULL,NULL),
(17,'B05','REP-011',(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),NULL,'QR-B05-2025-3013','2025-01-09 09:30:00','Surchauffe',NULL,NULL,NULL,NULL,NULL),
(26,'B02','REP-005',(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),NULL,'QR-B02-2025-3014','2025-01-01 09:30:00','Wi-Fi instable',NULL,NULL,NULL,NULL,NULL),
(20,'B01','REP-015',(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),NULL,'QR-B01-2025-3015','2025-02-12 09:30:00','Surchauffe',NULL,NULL,NULL,NULL,NULL),
(23,'B04','REP-016',(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),NULL,'QR-B04-2025-3016','2024-12-19 09:30:00','Ne charge plus',NULL,NULL,NULL,NULL,NULL),
(29,'B01','REP-014',(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),NULL,'QR-B01-2025-3017','2025-02-05 09:30:00','Wi-Fi instable',NULL,NULL,NULL,NULL,NULL),
(2,'B05','REP-008',(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),NULL,'QR-B05-2025-3018','2024-12-18 09:30:00','Wi-Fi instable',NULL,NULL,'2024-12-19 10:00:00','2024-12-21 17:00:00','2025-06-21'),
(25,'B04','REP-020',(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),NULL,'QR-B04-2025-3019','2025-01-24 09:30:00','Wi-Fi instable',NULL,NULL,'2025-01-25 10:00:00','2025-01-26 17:00:00','2025-07-26'),
(24,'B04','REP-015',(SELECT id_employe FROM employe WHERE email_pro='a.kouyate@quickrepair.fr'),NULL,'QR-B04-2025-3020','2025-02-20 09:30:00','Redémarrages',NULL,NULL,NULL,NULL,NULL),
(25,'B05','REP-016',(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),NULL,'QR-B05-2025-3021','2025-01-05 09:30:00','Wi-Fi instable',NULL,NULL,NULL,NULL,NULL),
(3,'B03','REP-008',(SELECT id_employe FROM employe WHERE email_pro='a.kouyate@quickrepair.fr'),NULL,'QR-B03-2025-3022','2025-01-10 09:30:00','Ecran cassé',NULL,NULL,NULL,NULL,NULL),
(5,'B02','REP-008',(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),NULL,'QR-B02-2025-3023','2024-12-28 09:30:00','Ecran cassé',NULL,NULL,NULL,NULL,NULL),
(14,'B04','REP-011',(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),NULL,'QR-B04-2025-3024','2025-01-23 09:30:00','Ne charge plus',NULL,NULL,'2025-01-24 10:00:00','2025-01-25 17:00:00','2025-07-25'),
(27,'B04','REP-013',(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),NULL,'QR-B04-2025-3025','2025-02-12 09:30:00','Boutons HS',NULL,NULL,NULL,NULL,NULL),
(16,'B01','REP-012',(SELECT id_employe FROM employe WHERE email_pro='a.kouyate@quickrepair.fr'),NULL,'QR-B01-2025-3026','2025-01-23 09:30:00','Surchauffe',NULL,NULL,'2025-01-24 10:00:00',NULL,NULL),
(16,'B02','REP-009',(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),NULL,'QR-B02-2025-3027','2024-12-04 09:30:00','Boutons HS',NULL,NULL,'2024-12-05 10:00:00','2024-12-07 17:00:00','2025-06-07'),
(22,'B04','REP-006',(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),NULL,'QR-B04-2025-3028','2025-02-18 09:30:00','Ne charge plus',NULL,NULL,NULL,NULL,NULL),
(30,'B04','REP-019',(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),NULL,'QR-B04-2025-3029','2024-12-04 09:30:00','Ecran cassé',NULL,NULL,NULL,NULL,NULL),
(21,'B04','REP-005',(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),NULL,'QR-B04-2025-3030','2024-12-07 09:30:00','Redémarrages',NULL,NULL,NULL,NULL,NULL),
(13,'B03','REP-007',(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),NULL,'QR-B03-2025-3031','2025-01-13 09:30:00','Boutons HS',NULL,NULL,NULL,NULL,NULL);

-- Historique des statuts (traçabilité)
INSERT INTO historique_statut(id_reparation, id_statut, id_employe_auteur, date_changement, commentaire) VALUES
(1,1,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-01-02 09:00:00','Déposée'),
(1,2,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-01-02 15:00:00','Diagnostic'),
(1,3,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-01-02 21:00:00','Devis envoyé'),
(1,5,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-01-03 03:00:00','Devis refusé'),
(2,1,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-03 09:00:00','Déposée'),
(2,2,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-03 15:00:00','Diagnostic'),
(2,3,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-03 21:00:00','Devis envoyé'),
(2,5,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-04 03:00:00','Devis refusé'),
(3,1,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-04 09:00:00','Déposée'),
(3,2,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-04 15:00:00','Diagnostic'),
(3,3,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-04 21:00:00','Devis envoyé'),
(3,4,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-05 03:00:00','Devis accepté'),
(3,7,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-05 09:00:00','En cours'),
(3,8,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-05 15:00:00','Terminée - contrôle'),
(4,1,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-05 09:00:00','Déposée'),
(4,2,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-05 15:00:00','Diagnostic'),
(4,3,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-05 21:00:00','Devis envoyé'),
(4,4,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-06 03:00:00','Devis accepté'),
(4,7,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-06 09:00:00','En cours'),
(4,8,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-06 15:00:00','Terminée - contrôle'),
(4,9,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-06 21:00:00','Terminée - en attente retrait'),
(5,1,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-06 09:00:00','Déposée'),
(5,2,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-06 15:00:00','Diagnostic'),
(5,3,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-06 21:00:00','Devis envoyé'),
(5,4,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-07 03:00:00','Devis accepté'),
(5,6,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-07 09:00:00','En attente pièce'),
(6,1,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-07 09:00:00','Déposée'),
(6,2,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-07 15:00:00','Diagnostic'),
(6,11,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-07 21:00:00','Annulée'),
(7,1,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-08 09:00:00','Déposée'),
(7,2,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-08 15:00:00','Diagnostic'),
(7,11,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-08 21:00:00','Annulée'),
(8,1,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-09 09:00:00','Déposée'),
(9,1,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-10 09:00:00','Déposée'),
(9,2,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-10 15:00:00','Diagnostic'),
(9,3,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-10 21:00:00','Devis envoyé'),
(9,4,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-11 03:00:00','Devis accepté'),
(10,1,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-11 09:00:00','Déposée'),
(10,2,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-11 15:00:00','Diagnostic'),
(10,3,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-11 21:00:00','Devis envoyé'),
(10,4,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-12 03:00:00','Devis accepté'),
(10,7,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-12 09:00:00','En cours'),
(10,8,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-12 15:00:00','Terminée - contrôle'),
(10,9,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-12 21:00:00','Terminée - en attente retrait'),
(10,10,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-13 03:00:00','Terminée - livrée'),
(11,1,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-12 09:00:00','Déposée'),
(11,2,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-12 15:00:00','Diagnostic'),
(11,3,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-12 21:00:00','Devis envoyé'),
(11,4,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-13 03:00:00','Devis accepté'),
(12,1,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-13 09:00:00','Déposée'),
(12,2,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-13 15:00:00','Diagnostic'),
(12,3,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-13 21:00:00','Devis envoyé'),
(12,4,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-14 03:00:00','Devis accepté'),
(12,7,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-14 09:00:00','En cours'),
(12,8,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-14 15:00:00','Terminée - contrôle'),
(13,1,(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),'2025-01-14 09:00:00','Déposée'),
(13,2,(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),'2025-01-14 15:00:00','Diagnostic'),
(14,1,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-01-15 09:00:00','Déposée'),
(14,2,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-01-15 15:00:00','Diagnostic'),
(14,3,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-01-15 21:00:00','Devis envoyé'),
(14,4,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-01-16 03:00:00','Devis accepté'),
(15,1,(SELECT id_employe FROM employe WHERE email_pro='a.kouyate@quickrepair.fr'),'2025-01-16 09:00:00','Déposée'),
(15,2,(SELECT id_employe FROM employe WHERE email_pro='a.kouyate@quickrepair.fr'),'2025-01-16 15:00:00','Diagnostic'),
(15,3,(SELECT id_employe FROM employe WHERE email_pro='a.kouyate@quickrepair.fr'),'2025-01-16 21:00:00','Devis envoyé'),
(15,5,(SELECT id_employe FROM employe WHERE email_pro='a.kouyate@quickrepair.fr'),'2025-01-17 03:00:00','Devis refusé'),
(16,1,(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),'2025-01-17 09:00:00','Déposée'),
(16,2,(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),'2025-01-17 15:00:00','Diagnostic'),
(16,3,(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),'2025-01-17 21:00:00','Devis envoyé'),
(17,1,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-18 09:00:00','Déposée'),
(17,2,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-18 15:00:00','Diagnostic'),
(17,3,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-18 21:00:00','Devis envoyé'),
(17,4,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-19 03:00:00','Devis accepté'),
(17,7,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-19 09:00:00','En cours'),
(17,8,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-19 15:00:00','Terminée - contrôle'),
(17,9,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-19 21:00:00','Terminée - en attente retrait'),
(17,10,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-20 03:00:00','Terminée - livrée'),
(18,1,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-19 09:00:00','Déposée'),
(18,2,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-19 15:00:00','Diagnostic'),
(19,1,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-20 09:00:00','Déposée'),
(19,2,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-20 15:00:00','Diagnostic'),
(19,3,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-20 21:00:00','Devis envoyé'),
(19,5,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-21 03:00:00','Devis refusé'),
(20,1,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-21 09:00:00','Déposée'),
(20,2,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-21 15:00:00','Diagnostic'),
(20,3,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-21 21:00:00','Devis envoyé'),
(20,4,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-22 03:00:00','Devis accepté'),
(20,7,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-22 09:00:00','En cours'),
(20,8,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-22 15:00:00','Terminée - contrôle'),
(20,9,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-22 21:00:00','Terminée - en attente retrait'),
(20,10,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-23 03:00:00','Terminée - livrée'),
(21,1,(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),'2025-01-22 09:00:00','Déposée'),
(21,2,(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),'2025-01-22 15:00:00','Diagnostic'),
(21,3,(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),'2025-01-22 21:00:00','Devis envoyé'),
(21,5,(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),'2025-01-23 03:00:00','Devis refusé'),
(22,1,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-01-23 09:00:00','Déposée'),
(22,2,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-01-23 15:00:00','Diagnostic'),
(22,11,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-01-23 21:00:00','Annulée'),
(23,1,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-24 09:00:00','Déposée'),
(23,2,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-24 15:00:00','Diagnostic'),
(23,3,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-24 21:00:00','Devis envoyé'),
(23,4,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-25 03:00:00','Devis accepté'),
(23,7,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-25 09:00:00','En cours'),
(24,1,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-25 09:00:00','Déposée'),
(24,2,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-25 15:00:00','Diagnostic'),
(24,3,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-25 21:00:00','Devis envoyé'),
(24,4,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-26 03:00:00','Devis accepté'),
(25,1,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-26 09:00:00','Déposée'),
(25,2,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-26 15:00:00','Diagnostic'),
(25,3,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-26 21:00:00','Devis envoyé'),
(25,4,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-27 03:00:00','Devis accepté'),
(25,7,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-27 09:00:00','En cours'),
(25,8,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-27 15:00:00','Terminée - contrôle'),
(25,9,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-27 21:00:00','Terminée - en attente retrait'),
(25,10,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-28 03:00:00','Terminée - livrée'),
(26,1,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-27 09:00:00','Déposée'),
(26,2,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-27 15:00:00','Diagnostic'),
(26,11,(SELECT id_employe FROM employe WHERE email_pro='m.dubois@quickrepair.fr'),'2025-01-27 21:00:00','Annulée'),
(27,1,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-28 09:00:00','Déposée'),
(27,2,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-28 15:00:00','Diagnostic'),
(28,1,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-29 09:00:00','Déposée'),
(28,2,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-29 15:00:00','Diagnostic'),
(28,3,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-29 21:00:00','Devis envoyé'),
(28,5,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-01-30 03:00:00','Devis refusé'),
(29,1,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-30 09:00:00','Déposée'),
(29,2,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-30 15:00:00','Diagnostic'),
(29,3,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-30 21:00:00','Devis envoyé'),
(29,4,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-31 03:00:00','Devis accepté'),
(29,7,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-31 09:00:00','En cours'),
(29,8,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-31 15:00:00','Terminée - contrôle'),
(29,9,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-31 21:00:00','Terminée - en attente retrait'),
(29,10,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-02-01 03:00:00','Terminée - livrée'),
(30,1,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-31 09:00:00','Déposée'),
(30,2,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-31 15:00:00','Diagnostic'),
(30,3,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-01-31 21:00:00','Devis envoyé'),
(30,4,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-02-01 03:00:00','Devis accepté'),
(30,7,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-02-01 09:00:00','En cours'),
(30,8,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-02-01 15:00:00','Terminée - contrôle'),
(30,9,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-02-01 21:00:00','Terminée - en attente retrait'),
(30,10,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-02-02 03:00:00','Terminée - livrée'),
(31,1,(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),'2025-02-01 09:00:00','Déposée'),
(31,2,(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),'2025-02-01 15:00:00','Diagnostic'),
(31,3,(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),'2025-02-01 21:00:00','Devis envoyé'),
(31,4,(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),'2025-02-02 03:00:00','Devis accepté'),
(31,6,(SELECT id_employe FROM employe WHERE email_pro='l.fernandez@quickrepair.fr'),'2025-02-02 09:00:00','En attente pièce'),
(32,1,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-02 09:00:00','Déposée'),
(32,2,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-02 15:00:00','Diagnostic'),
(32,3,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-02 21:00:00','Devis envoyé'),
(32,4,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-03 03:00:00','Devis accepté'),
(32,7,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-03 09:00:00','En cours'),
(33,1,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-02-03 09:00:00','Déposée'),
(33,2,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-02-03 15:00:00','Diagnostic'),
(33,3,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-02-03 21:00:00','Devis envoyé'),
(33,4,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-02-04 03:00:00','Devis accepté'),
(33,6,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-02-04 09:00:00','En attente pièce'),
(34,1,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-04 09:00:00','Déposée'),
(34,2,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-04 15:00:00','Diagnostic'),
(34,3,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-04 21:00:00','Devis envoyé'),
(34,4,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-05 03:00:00','Devis accepté'),
(34,7,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-05 09:00:00','En cours'),
(34,8,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-05 15:00:00','Terminée - contrôle'),
(34,9,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-05 21:00:00','Terminée - en attente retrait'),
(35,1,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-02-05 09:00:00','Déposée'),
(35,2,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-02-05 15:00:00','Diagnostic'),
(35,3,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-02-05 21:00:00','Devis envoyé'),
(35,4,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-02-06 03:00:00','Devis accepté'),
(35,6,(SELECT id_employe FROM employe WHERE email_pro='j.lemoine@quickrepair.fr'),'2025-02-06 09:00:00','En attente pièce'),
(36,1,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-02-06 09:00:00','Déposée'),
(36,2,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-02-06 15:00:00','Diagnostic'),
(36,3,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-02-06 21:00:00','Devis envoyé'),
(36,4,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-02-07 03:00:00','Devis accepté'),
(36,7,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-02-07 09:00:00','En cours'),
(37,1,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-02-07 09:00:00','Déposée'),
(37,2,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-02-07 15:00:00','Diagnostic'),
(38,1,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-08 09:00:00','Déposée'),
(38,2,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-08 15:00:00','Diagnostic'),
(38,3,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-08 21:00:00','Devis envoyé'),
(38,4,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-09 03:00:00','Devis accepté'),
(38,6,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-09 09:00:00','En attente pièce'),
(39,1,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-09 09:00:00','Déposée'),
(39,2,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-09 15:00:00','Diagnostic'),
(39,3,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-09 21:00:00','Devis envoyé'),
(39,4,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-10 03:00:00','Devis accepté'),
(39,7,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-10 09:00:00','En cours'),
(39,8,(SELECT id_employe FROM employe WHERE email_pro='n.petit@quickrepair.fr'),'2025-02-10 15:00:00','Terminée - contrôle'),
(40,1,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-02-10 09:00:00','Déposée'),
(40,2,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-02-10 15:00:00','Diagnostic'),
(40,3,(SELECT id_employe FROM employe WHERE email_pro='s.morel@quickrepair.fr'),'2025-02-10 21:00:00','Devis envoyé');

-- Devis (18)
INSERT INTO devis(id_reparation, date_devis, montant_total, statut_devis) VALUES
(1,'2025-01-06 12:00:00',67.75,'refuse'),
(2,'2025-01-07 12:00:00',241.40,'accepte'),
(3,'2025-01-08 12:00:00',164.50,'refuse'),
(4,'2025-01-09 12:00:00',199.42,'accepte'),
(5,'2025-01-10 12:00:00',124.83,'refuse'),
(6,'2025-01-11 12:00:00',159.34,'accepte'),
(7,'2025-01-12 12:00:00',216.38,'envoye'),
(8,'2025-01-13 12:00:00',90.36,'accepte'),
(9,'2025-01-14 12:00:00',82.65,'accepte'),
(10,'2025-01-15 12:00:00',154.37,'refuse'),
(11,'2025-01-16 12:00:00',112.38,'envoye'),
(12,'2025-01-17 12:00:00',137.75,'accepte'),
(13,'2025-01-18 12:00:00',69.00,'envoye'),
(14,'2025-01-19 12:00:00',107.06,'accepte'),
(15,'2025-01-20 12:00:00',103.87,'refuse'),
(16,'2025-01-21 12:00:00',183.26,'accepte'),
(17,'2025-01-22 12:00:00',151.27,'refuse'),
(18,'2025-01-23 12:00:00',237.57,'envoye');

INSERT INTO devis_ligne(id_devis, type_ligne, libelle, qte, prix_unitaire) VALUES
(1,'OPERATION','Main d''œuvre',1,38.31),
(1,'PIECE',(SELECT libelle FROM piece WHERE id_piece=16),1,68.85),
(2,'OPERATION','Main d''œuvre',1,74.25),
(2,'PIECE',(SELECT libelle FROM piece WHERE id_piece=16),1,96.19),
(2,'PIECE',(SELECT libelle FROM piece WHERE id_piece=15),2,38.84),
(3,'OPERATION','Main d''œuvre',1,74.34),
(3,'PIECE',(SELECT libelle FROM piece WHERE id_piece=19),2,47.44),
(4,'OPERATION','Main d''œuvre',1,53.04),
(4,'PIECE',(SELECT libelle FROM piece WHERE id_piece=18),2,45.46),
(4,'PIECE',(SELECT libelle FROM piece WHERE id_piece=11),2,36.16),
(5,'OPERATION','Main d''œuvre',1,37.44),
(5,'PIECE',(SELECT libelle FROM piece WHERE id_piece=7),1,18.75),
(5,'PIECE',(SELECT libelle FROM piece WHERE id_piece=11),2,27.03),
(6,'OPERATION','Main d''œuvre',1,41.12),
(6,'PIECE',(SELECT libelle FROM piece WHERE id_piece=17),1,117.76),
(6,'PIECE',(SELECT libelle FROM piece WHERE id_piece=10),2,39.07),
(7,'OPERATION','Main d''œuvre',1,33.36),
(8,'OPERATION','Main d''œuvre',1,75.64),
(9,'OPERATION','Main d''œuvre',1,40.94),
(10,'OPERATION','Main d''œuvre',1,63.27),
(10,'PIECE',(SELECT libelle FROM piece WHERE id_piece=5),1,16.80),
(10,'PIECE',(SELECT libelle FROM piece WHERE id_piece=16),2,71.02),
(11,'OPERATION','Main d''œuvre',1,57.30),
(11,'PIECE',(SELECT libelle FROM piece WHERE id_piece=6),2,116.03),
(12,'OPERATION','Main d''œuvre',1,94.29),
(12,'PIECE',(SELECT libelle FROM piece WHERE id_piece=4),2,99.54),
(13,'OPERATION','Main d''œuvre',1,58.34),
(13,'PIECE',(SELECT libelle FROM piece WHERE id_piece=2),2,22.16),
(13,'PIECE',(SELECT libelle FROM piece WHERE id_piece=5),1,14.80),
(14,'OPERATION','Main d''œuvre',1,28.48),
(14,'PIECE',(SELECT libelle FROM piece WHERE id_piece=20),1,73.55),
(15,'OPERATION','Main d''œuvre',1,81.06),
(15,'PIECE',(SELECT libelle FROM piece WHERE id_piece=15),2,109.48),
(16,'OPERATION','Main d''œuvre',1,87.81),
(16,'PIECE',(SELECT libelle FROM piece WHERE id_piece=10),1,70.39),
(17,'OPERATION','Main d''œuvre',1,67.77),
(17,'PIECE',(SELECT libelle FROM piece WHERE id_piece=4),2,76.93),
(17,'PIECE',(SELECT libelle FROM piece WHERE id_piece=7),1,80.95),
(18,'OPERATION','Main d''œuvre',1,38.19),
(18,'PIECE',(SELECT libelle FROM piece WHERE id_piece=3),2,5.31),
(18,'PIECE',(SELECT libelle FROM piece WHERE id_piece=6),2,84.28);

-- Pièces utilisées (reparation_piece)
INSERT INTO reparation_piece(id_reparation, id_piece, quantite, prix_applique) VALUES
(19,9,1,13.21),
(3,10,2,55.50),
(15,10,2,62.55),
(15,13,2,55.34),
(40,14,2,74.43),
(37,3,1,115.62),
(30,9,1,92.76),
(5,16,2,110.35),
(38,19,2,78.00),
(17,3,2,51.96),
(17,16,2,82.07),
(26,11,2,84.77),
(31,13,1,57.30),
(31,18,2,34.03),
(21,13,1,80.63),
(36,14,1,64.62),
(36,2,2,76.92),
(22,7,2,68.16),
(35,15,1,8.32),
(35,16,1,86.63),
(7,18,2,15.72),
(7,1,1,58.07),
(14,5,2,112.26),
(4,17,2,100.99),
(4,9,2,33.03),
(18,13,1,111.01),
(8,3,2,93.86);

-- Paiements (12)
INSERT INTO paiement(id_reparation, date_paiement, montant, mode, reference) VALUES
(1,'2025-01-11 18:00:00',152.10,'especes',NULL),
(8,'2025-01-18 18:00:00',108.81,'virement','TX-0008-virement'),
(27,'2025-02-06 18:00:00',118.21,'especes',NULL),
(22,'2025-02-01 18:00:00',221.62,'virement','TX-0022-virement'),
(33,'2025-02-12 18:00:00',89.15,'especes',NULL),
(18,'2025-01-28 18:00:00',88.05,'especes',NULL),
(19,'2025-01-29 18:00:00',48.17,'virement','TX-0019-virement'),
(20,'2025-01-30 18:00:00',138.33,'especes',NULL),
(32,'2025-02-11 18:00:00',120.08,'virement','TX-0032-virement'),
(10,'2025-01-20 18:00:00',205.40,'virement','TX-0010-virement'),
(15,'2025-01-25 18:00:00',244.97,'especes',NULL);

-- Réactivation des contraintes de clés étrangères
SET session_replication_role = 'origin';